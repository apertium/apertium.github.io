<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3&nbsp;Format specification of the
data stream between modules</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="figure.css" title="default"/><link rel="stylesheet" type="text/css" href="strikethrough.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="figure.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="file:///usr/share/doc/racket/local-redirect/local-redirect.js"></script><script type="text/javascript" src="file:///home/selimcan/.racket/7.7/doc/local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Documentation of the Open-<wbr></wbr>Source Shallow-<wbr></wbr>Transfer
Machine-<wbr></wbr>Translation Platform <span class="emph">Apertium</span></a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="intro.html" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="engine.html" class="tocviewlink" data-pltdoc="x">The shallow-<wbr></wbr>transfer machine
translation engine</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Format specification of the
data stream between modules</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="modules.html" class="tocviewlink" data-pltdoc="x">Modules specification</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="install-and-run.html" class="tocviewlink" data-pltdoc="x">Installing and running the system</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="maintain.html" class="tocviewlink" data-pltdoc="x">Maintaining linguistic data</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="data-insertion.html" class="tocviewlink" data-pltdoc="x">Data insertion web forms</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="best.html" class="tocviewlink" data-pltdoc="x">Best practices when developing
an Apertium translator</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="dtds.html" class="tocviewlink" data-pltdoc="x">Appendix A. XML DTDs</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="symbols.html" class="tocviewlink" data-pltdoc="x">Appendix B. Grammatical symbols used in the modules</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="status.html" class="tocviewlink" data-pltdoc="x">Appendix C. A list of all Apertium repositories</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="abbreviations.html" class="tocviewlink" data-pltdoc="x">Appendix D. Abbreviations used in the text</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="languagefamilies.html" class="tocviewlink" data-pltdoc="x">Appendix E. Linguistic data repositories by language families</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Format specification of the
data stream between modules</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="#%28part._.Data_stream_without_format%29" class="tocviewlink" data-pltdoc="x">Data stream without format</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="#%28part._.Segmented_data_stream%29" class="tocviewlink" data-pltdoc="x">Segmented data stream</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._.Introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#%28part._.Data_stream_without_format%29" class="tocsubseclink" data-pltdoc="x">Data stream without format</a></td></tr><tr><td><span class="tocsublinknumber">3.2.1<tt>&nbsp;</tt></span><a href="#%28part._noxml1%29" class="tocsubseclink" data-pltdoc="x">Stream format</a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#%28part._.Segmented_data_stream%29" class="tocsubseclink" data-pltdoc="x">Segmented data stream</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">3.5.2</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" tabindex="1" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.7&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.7&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="engine.html" title="backward to &quot;2 The shallow-transfer machine
translation engine&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Documentation of the Open-Source Shallow-Transfer
Machine-Translation Platform Apertium&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="modules.html" title="forward to &quot;4 Modules specification&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;apertium-platform-doc/index.scrbl&quot;)" x-source-pkg="apertium-platform-doc" x-part-tag="&quot;stream-format&quot;">3<tt>&nbsp;</tt><a name="(part._stream-format)"></a>Format specification of the
data stream between modules</h3><h4 x-source-module="(lib &quot;apertium-platform-doc/index.scrbl&quot;)" x-source-pkg="apertium-platform-doc" x-part-tag="&quot;Introduction&quot;">3.1<tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h4><p>The format of the data that circulate between the engine&rsquo;s modules has to be
specified so that document processing is more effective and transparent. The
proposed system design (see <a href="engine.html" data-pltdoc="x">The shallow-transfer machine
translation engine</a>) imposes the need to use three
different data stream types, as shown in <a href="#%28counter._%28figure._fig~3afdatos%29%29" data-pltdoc="x">Figure&nbsp;<span class="FigureRef">2</span></a>.</p><p>The stream format is text-based to facilitate, among other things, the
diagnosis of possible system errors, since it is easy to manipulate the stream
in order to reproduce the phenomena that are to be tested, and change it to see
the result. Other benefits of using text streams are that it is possible to
test independently the output of each module, and that it allows for fast
building of prototypes to test the system&rsquo;s global performance, the validity of
linguistic data, etc.</p><blockquote class="Figure"><blockquote class="Centerfigure"><blockquote class="FigureInside"><p><img src="fdatos.svg" alt="" width="638.399979" height="246.000006"/></p></blockquote></blockquote><p class="Centertext"><span class="Legend"><span class="FigureTarget"><a name="(counter._(figure._fig~3afdatos))" x-target-lift="Figure"></a>Figure&nbsp;2: </span>The different data stream types in the machine
        translation system. See the text for its description.</span></p></blockquote><p>The data stream types are:</p><ul><li><p><span style="font-style: italic">Data stream with format:</span> It is the text in its original format,
with no further marks: XML, ANSI text, RTF, HTML, etc. Since it is the original
format of the documents, nothing needs to be specified about it except the name
of the format.</p></li><li><p><span style="font-style: italic">Data stream without format:</span> It is the text with
<span style="font-style: italic">superblanks</span>, that is, with special characters that encapsulate the
format (see <a href="modules.html#%28part._formats%29" data-pltdoc="x">Format processing</a>); superblanks are treated by the linguistic
modules as blanks between words (with some exceptions). This is the format
generated by the <span style="font-style: italic">de-formatter</span> and used by the
<span style="font-style: italic">re-formatter</span> when generating the final translated document.</p></li><li><p><span style="font-style: italic">Segmented data stream:</span> In this format, apart from superblanks,
lexical units that are to be translated are delimited also with special
characters. These characters are put by the morphological analyser and deleted
by the generator, which delivers the final surface forms.</p></li></ul><p>We describe next the characteristics of the data stream used between the
modules of the translator, that is, the second and the third stream types. In
general terms, it is a plain text format marked with characters that have a
special meaning. This format is intended for the processing in servers that
translate large volumes of text.</p><p>Some of the formats that the engine can process may contain extensive blocks of
information in binary format &#8212;<wbr></wbr> RTF for instance, that may include bitmap
images. To enable an efficient processing of this type of documents, we
designed a way to extract this information and restore it after translation has
been performed; see <a href="modules.html#%28part._formats%29" data-pltdoc="x">Format processing</a> for a complete description.</p><h4 x-source-module="(lib &quot;apertium-platform-doc/index.scrbl&quot;)" x-source-pkg="apertium-platform-doc" x-part-tag="&quot;Data_stream_without_format&quot;">3.2<tt>&nbsp;</tt><a name="(part._.Data_stream_without_format)"></a>Data stream without format</h4><p>Data stream without format is output by the de-formatter and by the generator,
 and is used as input by the morphological
analyser, the post-generator and the re-formatter.</p><p>In the subsection of this section you can find a description of the method to
delimit <span style="font-style: italic">superblanks</span> and <span style="font-style: italic">extensive superblanks</span>. As an example
we will use the HTML document in <a href="#%28counter._%28figure._fg~3adocorigtext%29%29" data-pltdoc="x">Figure&nbsp;<span class="FigureRef">4</span></a>.</p><p><div class="SIntrapara"><blockquote class="Figure"><blockquote class="Leftfigure"><blockquote class="FigureInside"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">&lt;html&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&lt;head&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">&lt;title&gt;Title&lt;/title&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&lt;/head&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&lt;body&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">&lt;p&gt;Divided</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">sentence&lt;/p&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&lt;/body&gt;</span></p></td></tr><tr><td><p><span class="stt">&lt;/html&gt;</span></p></td></tr></table></blockquote></blockquote><p class="Centertext"><span class="Legend"><span class="FigureTarget"><a name="(counter._(figure._fg~3adocorig))" x-target-lift="Figure"></a>Figure&nbsp;3: </span>Example of HTML document</span></p></blockquote></div><div class="SIntrapara">The structural elements that <span class="strikethrough">must include</span> this data stream type
<span style="color: red">must include</span> are the following:</div></p><ul><li><p><span style="font-style: italic">Superblanks</span>. Blocks that contain segments of format information
included in the documents, when these are short.</p></li><li><p><span style="font-style: italic">Extensive superblanks</span>. Marks that are used to specify external
documents that include segments of format information for the document being
processed, when these segments are long.</p></li><li><p><span style="font-style: italic">Text</span>. The document text that can be translated.</p></li><li><p><span style="font-style: italic">Artificial sentence endings</span>. When the format in the document
suggests a sentence separation that is not signalled by any punctuation mark
(for instance, titles with no full stop at the end, or the content of cells in
a table), the format processing must have a mechanism (invisible for the user)
that enables the marking of these sentence endings.</p></li><li><p><span style="font-style: italic">Special characters protection (for non-XML stream)</span>. Characters
that must be protected to avoid conflict with the ones used in the data stream
format.</p></li></ul><h5 x-source-module="(lib &quot;apertium-platform-doc/index.scrbl&quot;)" x-source-pkg="apertium-platform-doc" x-part-tag="&quot;noxml1&quot;">3.2.1<tt>&nbsp;</tt><a name="(part._noxml1)"></a>Stream format</h5><p>This format is based on the one used in the machine translation systems
<span class="stt">interNOSTRUM</span> \cite{canals01b,garridoalenda01p,garrido99j} and
<span class="stt">Traductor Universia</span> \cite{garrido03p, gilabert03j}.</p><p>In this stream type, the characters <span class="stt">[</span> and <span class="stt">]</span> are used to indicate
<span style="font-style: italic">superblanks</span>, as shown in the following example:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">[superblank content]</span></p></td></tr></table></p><p>In the case of <span style="font-style: italic">extensive superblanks</span>, the file name is specified using
the at sign <span class="stt">@</span>:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">[@file name]</span></p></td></tr></table></p><p>The <span style="font-style: italic">text</span> is outside the superblank marks.</p><p><span style="font-style: italic">Artificial sentence endings</span> are expressed by a full stop and an empty
superblank right after it.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">.[]</span></p></td></tr></table></p><p>The following table shows the <span style="font-weight: bold">protected characters</span>:</p><p><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="left" style="border: 1px solid black;"><p><span style="font-weight: bold">Name</span></p></td><td align="left" style="border: 1px solid black;"><p><span style="font-weight: bold">Character</span></p></td><td align="left" style="border: 1px solid black;"><p><span style="font-weight: bold">Protected form</span></p></td><td align="left" style="border: 1px solid black;"><p><span style="font-weight: bold">Meaning</span></p></td></tr><tr><td align="left" style="border: 1px solid black;"><p>At</p></td><td align="left" style="border: 1px solid black;"><p>@</p></td><td align="left" style="border: 1px solid black;"><p>\@</p></td><td align="left" style="border: 1px solid black;"><p>External superblank</p></td></tr><tr><td align="left" style="border: 1px solid black;"><p>Slash</p></td><td align="left" style="border: 1px solid black;"><p>/</p></td><td align="left" style="border: 1px solid black;"><p>\/</p></td><td align="left" style="border: 1px solid black;"><p>Divider of meaning</p></td></tr><tr><td align="left" style="border: 1px solid black;"><p>Backslash</p></td><td align="left" style="border: 1px solid black;"><p>\</p></td><td align="left" style="border: 1px solid black;"><p>\\</p></td><td align="left" style="border: 1px solid black;"><p>Protection character</p></td></tr><tr><td align="left" style="border: 1px solid black;"><p>Caret</p></td><td align="left" style="border: 1px solid black;"><p>^</p></td><td align="left" style="border: 1px solid black;"><p>\^</p></td><td align="left" style="border: 1px solid black;"><p>Beginning of LF</p></td></tr><tr><td align="left" style="border: 1px solid black;"><p>Opening square bracket</p></td><td align="left" style="border: 1px solid black;"><p>[</p></td><td align="left" style="border: 1px solid black;"><p>\[</p></td><td align="left" style="border: 1px solid black;"><p>Beginning of blank</p></td></tr><tr><td align="left" style="border: 1px solid black;"><p>Closing square bracket</p></td><td align="left" style="border: 1px solid black;"><p>]</p></td><td align="left" style="border: 1px solid black;"><p>\]</p></td><td align="left" style="border: 1px solid black;"><p>End of blank</p></td></tr><tr><td align="left" style="border: 1px solid black;"><p>Dollar</p></td><td align="left" style="border: 1px solid black;"><p>$</p></td><td align="left" style="border: 1px solid black;"><p>\$</p></td><td align="left" style="border: 1px solid black;"><p>End of LF</p></td></tr><tr><td align="left" style="border: 1px solid black;"><p>Greater than</p></td><td align="left" style="border: 1px solid black;"><p>&gt;</p></td><td align="left" style="border: 1px solid black;"><p>\&gt;</p></td><td align="left" style="border: 1px solid black;"><p>Begin. of morph. symbol</p></td></tr><tr><td align="left" style="border: 1px solid black;"><p>Less than</p></td><td align="left" style="border: 1px solid black;"><p>&lt;</p></td><td align="left" style="border: 1px solid black;"><p>\&lt;</p></td><td align="left" style="border: 1px solid black;"><p>End of moprh. symbol</p></td></tr></table></p><p><a href="#%28counter._%28figure._fg~3adocorigtext%29%29" data-pltdoc="x">Figure&nbsp;<span class="FigureRef">4</span></a> shows the document in <a href="#%28counter._%28figure._fg~3adocorig%29%29" data-pltdoc="x">Figure&nbsp;<span class="FigureRef">3</span></a> after
encapsulation.</p><blockquote class="Figure"><blockquote class="Leftfigure"><blockquote class="FigureInside"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">[&lt;html&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&lt;head&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">&lt;title&gt;]Title.[][&lt;/title&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&lt;/head&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&lt;body&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">&lt;p&gt;]Divided[</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">]sentence.[][&lt;/p&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&lt;/body&gt;</span></p></td></tr><tr><td><p><span class="stt">&lt;html&gt;]</span></p></td></tr></table></blockquote></blockquote><p class="Centertext"><span class="Legend"><span class="FigureTarget"><a name="(counter._(figure._fg~3adocorigtext))" x-target-lift="Figure"></a>Figure&nbsp;4: </span>The document in @Figure-ref fg:docorig
with format encapsulated using square brackets</span></p></blockquote><h4 x-source-module="(lib &quot;apertium-platform-doc/index.scrbl&quot;)" x-source-pkg="apertium-platform-doc" x-part-tag="&quot;Segmented_data_stream&quot;">3.3<tt>&nbsp;</tt><a name="(part._.Segmented_data_stream)"></a>Segmented data stream</h4><p>Segmented data stream is the stream that circulates between the
modules that handle linguistic information in the translation engine.
In this stream, words are delimited and labelled.  There are two types
of segmented stream:</p><p>\begin{itemize}
\item \textit{Ambiguous segmented stream}. Its main characteristic is
that words have a surface form and potentially more than one lexical
form (lexical multiform).  This stream type is the format in which
the morphological analyser provides the input data for the
part-of-speech tagger (see diagram \ref{eq:formaanalizada} in page
~\pageref{formaanalizada} for a detailed description of ambiguous
segmented stream).</p><p>\item \textit{Unambiguous segmented stream}.  It has only one lexical
form for each word and it does not include the surface form.  This is
the format in which data circulate from the part-of-speech tagger to
the transfer module, and from this module to the generator (see
diagram \ref{eq:formaanalizada2} in page~\pageref{formaanalizada2} for
a detailed description of the format of unambiguous segmented stream).
\end{itemize}</p><p>Furthermore, besides the information already marked in the data stream
without format, the new stream has to enable marking of the following
information:</p><p>\begin{itemize}
\item \textit{Lexical units}.  A lexical unit is made of a surface
form (in the case of ambiguous segmented stream) plus one or more
lexical forms (the different possible analyses of the SF) with their
grammatical symbols.
\item \textit{Surface forms (ambiguous segmented stream)}.  The word
as it appears in the original text.
\item \textit{Lexical forms}.  The lemma of the word and its
grammatical symbols.
\item \textit{Grammatical symbols}.  They describe the morphological
and grammatical attributes of a surface form.
\end{itemize}</p><p>% \subsection{XML format}</p><p>% Las \textit{palabras} se etiquetan de la forma que se muestra a
% continuaci&#243;n:</p><p>% \begin{small}
% \begin{alltt} % &lt;\textbf{w}&gt;\textit{informaci&#243;n de la palabra}&lt;/\textbf{w}&gt;
% \end{alltt}
% \end{small}</p><p>% Para el caso del \textit{flujo de datos segmentado ambiguo}, la
% \textit{forma superficial} se indica en el interior de un elemento
% \texttt{&lt;\textbf{w}&gt;} mediante el contenido de un &#250;nico elemento
%\texttt{&lt;\textbf{sf}&gt;}.  A continuaci&#243;n, se sit&#250;an la forma o
%\textit{formas l&#233;xicas} que sean necesarias:</p><p>% \begin{small}
% \begin{alltt} % &lt;\textbf{w}&gt; % &lt;\textbf{sf}&gt;\textit{forma superficial}&lt;/\textbf{sf}&gt;
% &lt;\textbf{lf}&gt;\textit{forma l&#233;xica 1}&lt;/\textbf{lf}&gt;
% &lt;\textbf{lf}&gt;\textit{forma l&#233;xica 2 (opcional)}&lt;/\textbf{lf}&gt;
% ...  % &lt;/\textbf{w}&gt;
% \end{alltt}
% \end{small}</p><p>% Para el caso del flujo no ambiguo, s&#243;lo se especifica una &#250;nica forma l&#233;xica.</p><p>% \begin{small}
% \begin{alltt} % &lt;\textbf{w}&gt; % &lt;\textbf{lf}&gt;\textit{forma l&#233;xica}&lt;/\textbf{lf}&gt; % &lt;/\textbf{w}&gt;
% \end{alltt}
% \end{small}</p><p>% %% \pagebreak</p><p>% La DTD de este flujo de datos para textos \textit{sin desambiguar} es la % que se muestra en la figura~\ref{fg:ambdtd} a continuaci&#243;n.</p><p>% \begin{figure}[here]
% \begin{small}
% \begin{alltt}
%   &lt;!\textsl{ELEMENT} \textbf{document} (b|w|\textsl{#PCDATA})*&gt;
%   &lt;!&ndash; atenci&#243;n, el #PCDATA anterior sigue siendo necesario para los
%        car&#225;cteres no etiquetados y que no forman parte del formato &ndash;&gt;
%   &lt;!\textsl{ELEMENT} \textbf{b} (\textsl{#PCDATA}?)&gt;
%   &lt;!\textsl{ATTLIST} b filename \textsl{CDATA} \textsl{#IMPLIED}&gt;
%   &lt;!\textsl{ELEMENT} \textbf{w} (sf,lf+)&gt;
%   &lt;!\textsl{ELEMENT} \textbf{sf} (\textsl{#PCDATA})&gt;
%   &lt;!\textsl{ELEMENT} \textbf{lf} (\textsl{#PCDATA}|s)+&gt;
%   &lt;!\textsl{ELEMENT} \textbf{s} \textsl{EMPTY}&gt;
%   &lt;!\textsl{ATTLIST} s n \textsl{IDREF #REQUIRED}&gt;
% \end{alltt}
% \end{small}
% \caption{DTD para textos no desambiguados con formato XML}
% \label{fg:ambdtd}
% \end{figure}</p><p>% Para los ya \textit{ desambiguados}, los textos deben cumplir la DTD de la figura~\ref{fg:desambdtd}.</p><p>% \begin{alltt}
%   &lt;!\textsl{ELEMENT} \textbf{document} (b|w|\textsl{#PCDATA})*&gt;
%   &lt;!&ndash; atenci&#243;n, el #PCDATA anterior sigue siendo necesario para los
%        car&#225;cteres no etiquetados y que no forman parte del formato &ndash;&gt;
%   &lt;!\textsl{ELEMENT} \textbf{b} (\textsl{#PCDATA}?)&gt;
%   &lt;!\textsl{ATTLIST} b filename \textsl{CDATA} \textsl{#IMPLIED}&gt;
%   &lt;!\textsl{ELEMENT} \textbf{w} (lf)&gt;
%   &lt;!\textsl{ELEMENT} \textbf{lf} (\textsl{#PCDATA}|s)+&gt;
%   &lt;!\textsl{ELEMENT} \textbf{s} \textsl{EMPTY}&gt;
%   &lt;!\textsl{ATTLIST} s n \textsl{IDREF #REQUIRED}&gt;
% \end{alltt}
% \end{small}
% \caption{DTD para textos desambiguados con formato XML}
% \label{fg:desambdtd}
% \end{figure}</p><p>% La figura~\ref{fg:docorigXML2} muestra un ejemplo de segmentaci&#243;n del flujo
% que incluye la forma de encapsular el formato y la informaci&#243;n l&#233;xica.  Este
% ejemplo es para el caso de flujo segmentado ambiguo y corresponde al texto
% HTML original de la figura~\ref{fg:docorig}.</p><p>% \begin{figure}[htbp]
% \begin{small}
% \begin{alltt}
% &lt;?\textbf{xml} \textsl{version}="1.0" \textsl{encoding}="iso-8859-15"?&gt;
% &lt;document&gt;
% &lt;\textbf{b}&gt;&lt;![CDATA[&lt;html&gt;
%   &lt;head&gt;
%     &lt;title&gt;]]&gt;&lt;/\textbf{b}&gt;
% &lt;\textbf{w}&gt;
%   &lt;\textbf{sf}&gt;T&#237;tulo&lt;\textbf{sf}&gt;
%   &lt;\textbf{lf}&gt;T&#237;tulo&lt;\textbf{s} \textsl{n}="n"/&gt;&lt;\textbf{s} \textsl{n}="m"/&gt;&lt;\textbf{s} \textsl{n}="sg"/&gt;&lt;/\textbf{lf}&gt;
% &lt;/\textbf{w}&gt;
% &lt;\textbf{w}&gt;
%   &lt;\textbf{sf}&gt;.&lt;/\textbf{sf}&gt;
%   &lt;\textbf{lf}&gt;.&lt;s n="sent"/&gt;&lt;/\textbf{lf}&gt;
% &lt;/\textbf{w}&gt;&lt;\textbf{b}/&gt;
% &lt;\textbf{b}&gt;&lt;![CDATA[&lt;/title&gt;
%   &lt;/head&gt;
%   &lt;body&gt;
%     &lt;p&gt;]]&gt;&lt;/\textbf{b}&gt;
% &lt;\textbf{w}&gt;
%   &lt;\textbf{sf}&gt;Frase&lt;/\textbf{sf}&gt;
%   &lt;\textbf{lf}&gt;Frase&lt;s n="n"/&gt;&lt;s n="f"/&gt;&lt;s n="sg"/&gt;&lt;/\textbf{lf}&gt;
% &lt;/\textbf{w}&gt;
% &lt;\textbf{b}&gt;&lt;![CDATA[
%        ]]&gt;&lt;/\textbf{b}&gt;
% &lt;\textbf{w}&gt;
%   &lt;\textbf{sf}&gt;dividida&lt;/\textbf{sf}&gt;
%   &lt;\textbf{lf}&gt;dividir&lt;s n="vblex"/&gt;&lt;s n="pp"/&gt;&lt;s n="f"/&gt;&lt;s n="sg"/&gt;&lt;/\textbf{lf}&gt;
% &lt;/\textbf{w}&gt;
% &lt;\textbf{w}&gt;
%   &lt;\textbf{sf}&gt;.&lt;/\textbf{sf}&gt;
%   &lt;\textbf{lf}&gt;.&lt;s n="sent"/&gt;&lt;/\textbf{lf}&gt;
% &lt;/\textbf{w}&gt;&lt;\textbf{b}/&gt;
% &lt;\textbf{b}&gt;&lt;![CDATA[
%   &lt;/body&gt;
% &lt;html&gt;]]&gt;&lt;/\textbf{b}&gt;
% &lt;/document&gt;
% \end{alltt}
% \end{small}
% \caption{Ejemplo de flujo segmentado con el formato encapsulado en XML,
%   correspondiente al documento HTML de la figura~\ref{fg:docorig}.}
% \label{fg:docorigXML2}
% \end{figure}
%\subsection{Formato no XML}
%\subsubsection{Formato de flujo}
\label{se:noxml2} The symbols &rsquo;\verb!^!&rsquo; for word beginning and
&rsquo;\verb!$!&rsquo; for word end are used to delimit \textit{words}, as shown
in this example:</p><p>\begin{small}
\begin{alltt}
  \verb!^!\textit{word}\verb!$!
\end{alltt}
\end{small}</p><p>To separate the \textit{surface form} and the following
\textit{lexical forms}, the symbol \texttt{/} is used.  This separator
only has sense in the ambiguous segmented stream, since in the
unambiguous stream there is only the lexical form.  It is used as
follows:</p><p>\begin{small}
\begin{alltt}
  \verb!^!\textit{surface form}/\textit{lexical form 1}/...\verb!$!
\end{alltt}
\end{small}</p><p>Lexical forms can include symbols (generally located at the end), as
shown in the example of Figure \ref{fg:docorigtext2}.</p><p>\begin{figure}
\begin{small}
\begin{alltt}
[&lt;html&gt;
   &lt;head&gt;
     &lt;title&gt;]^Title/Title&lt;n&gt;&lt;m&gt;&lt;sg&gt;\$^./.&lt;sent&gt;\$[][&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
     &lt;p&gt;]^Divided/Divide&lt;vblex&gt;&lt;pp&gt;/Divided&lt;vblex&gt;&lt;past&gt;\$[
        ]^sentence/sentence&lt;n&gt;&lt;sg&gt;/sentence&lt;vblex&gt;&lt;inf&gt;\$^./.\\&lt;sent&gt;\$[][&lt;/p&gt;
  &lt;/body&gt;
&lt;html&gt;]
\end{alltt}
\end{small}
\caption{Example of segmented stream with format encapsulated in
non-XML format, corresponding to the HTML document in Figure
~\ref{fg:docorig}.}
\label{fg:docorigtext2}
\end{figure}</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" tabindex="1" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.7&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.7&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="engine.html" title="backward to &quot;2 The shallow-transfer machine
translation engine&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Documentation of the Open-Source Shallow-Transfer
Machine-Translation Platform Apertium&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="modules.html" title="forward to &quot;4 Modules specification&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>